{
  "hash": "a7b2d71d16e5bd97c5f1e14d43e34e42",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: '09-Which fruits are the biggest? An ANOVA example'\ndate: '2024-12-16'\n---\n\n\n\n**Preface**\n\nThe following template is intended as a starting point for a short report of an ANOVA.\nIt is recommended to follow the general outline (Introduction, Methods,\nResults, Discussion), but to adapt the content to the specific needs of the analysis. \n\nIt is good practice to concentrate on the main findings and their discussion and to avoid unnecessary technical detail. The report should be illustrated with meaningful (and only the most important) tables and graphs.\n\nThe data set consists of different samples of clementine fruits from different brands and different shops. The data sets can be downloaded from \n\n[https://tpetzoldt.github.io/datasets/](https://tpetzoldt.github.io/datasets/). \n\nA description is found in the file [clementines_info.txt](https://tpetzoldt.github.io/datasets/data/clementines_info.txt).\n\n# Introduction\n\nDescribe briefly the setup of the experiment.  Which data sets are to\nbe compared by your group?\n\nWhat are the Null hypothesis ($H_0$) and the alternative hypothesis\n($H_A$) in this experiment?\n\n\n# Material and Methods\n\n## Data \n* write something about the data\n    - describe the different samples and how they were obtained\n    - weight determination with a scale, length determination with\n      a caliper (see below)\n\n* read the data in:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbrands <- read.csv(\"clementines2022-brands.csv\")\nfruits <- read.csv(\"clementines2022-fruits.csv\")\n```\n:::\n\n\nShow the structure of the data. Use the data explorer of RStudio or the `head`-function,\nthat shows the first lines of each data set. **Please do not forget to\nreport the sample size of your data!**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncat(\"sample size:\", nrow(fruits), \"\\n\")\nhead(fruits, n=3)\n```\n:::\n\n\nLook also at the structure of `brands`.\n\nThen **join** the two tables and convert the brand column into a factor\nvariable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- left_join(fruits, brands, by=\"brand\")\ndat$brand <- factor(dat$brand)\n```\n:::\n\n\n## Data analysis\n\nMention R [@RCore] in a single sentence, cite special packages. Write\nthat an ANOVA was performed and which methods were used in addition.\n\n\n# Results\n\n* Visualize the data first, show box plots, either the full data set\n  **or** selected samples.\n\n* explain briefly what you see in the box plot\n\n* perform an ANOVA:\n    - the ANOVA\n    - check variance homogeneity and approximate normality\n    - perform a post-hoc test\n    \n\n* give a short explanation of the ANOVA results and report effect sizes\n\n**Creative part:** You can also be somewhat creative and analyse\nfurther properties of the data, e.g. length, width, weight, ... Select\nappropriate test methods, e.g. t-tests, ANOVA, correlation or\nregression, etc. You may also use **tidyverse** methods\n(e.g. `group_by` and `summarize`) to summarize the data\n[@tidyverse2019].  It can also be possible to try a two-way ANOVA with\na subset of the data. In that case, make sure to have a balanced data\nset or use `Anova` function (with capital letter \"A\") from package\n**car**.\n\n\n# Discussion and Conclusions\n\nThe discussion should contain three parts:\n\n1. The \"scientific\" toy problem: Summary of the outcome of the ANOVA\nexperiment (focus on the fruits).\n\n2. Technical aspects about the ANOVA or other methods:\n    * do the results look plausible and sound? Can things be made better?\n    * are there any comments to the method?\n    * Which results were obtained from additional analyses from the creative part?\n\n3. A conclusion, how can the results can be interpreted. Which\nclementines would you buy? Why?\n\n\n# Appendix\n\n\n## Hypotheses\n\nIt is important to formulate clear hypotheses. Here are a few\n**examples**, related to the data set from 2019. Please think about it\nand define your own hypotheses, related to the **current** data set.\n\n\n* $H_{0,1}$: The mean weight of the fruits is the same in all samples.\n* $H_{A,1}$: The weight is different in any of the samples.\n* $H_{A,2}$: Which brand is the smallest? The mean weight of smallest sample is \n  significantly smaller than of the 2nd samplest sample.\n* $H_{A,3}$: The fruits from the premium brands are bigger than corresponding \n  basic brands.\n\n**Note:** Hypotheses $H_{A,2}$ and $H_{A,3}$ have their own, different $H_0$.\n\nA hypothesis like $H_{A,3}$ is more difficult and optional. It\nrequires a two-way ANOVA and can only be applied to a subset of the\ndata, where different brands from the same shops are available. \n\n## Measurement methods\n\n* **Weight**: was determined with a kitchen scale in gramm (g).\n* **Height and Width**: were measured with a **caliper** (Fig. 1)\n\n<div align=\"center\">\n![Size measurement with a digital caliper.](../img/caliper.jpg){height=200}\n</div>\n\n\n## R example code\n\n* The following code is intended as a starting example. It is recommended to \nadapt the script to analyse the data from another year.\n\n* Don't forget that it is an exercise, not a serious analysis, so feel\n  free to create your own story.\n\n* Don't make your report too technical, concentrate on your message.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbrands <- read.csv(\"https://tpetzoldt.github.io/datasets/data/clementines2019-brands.csv\")\nfruits <- read.csv(\"https://tpetzoldt.github.io/datasets/data/clementines2019-fruits.csv\")\n\ndat <- left_join(fruits, brands) # merge tables by their common colum 'Brand'\ndat$brand <- factor(dat$brand)\n\nboxplot(weight ~ brand, data=dat)\n\n## the ANOVA\nm <- lm(weight ~ brand, data=dat)\nanova(m)\n\n## posthoc test\nTukeyHSD(aov(m))\n\n## graphical display of Tukey's test\nplot(TukeyHSD(aov(m)), las=1, cex.axis=0.5)\n\n## graphical and numerical checks of variance homogeneity\nplot(m, which=1)\nfligner.test(weight ~ brand, data=dat)\n\n## approximate normality of residuals\nplot(m, which=2)\n\n## optional: special one-way anova alternative if variances are unequal\noneway.test(weight ~ brand, data=dat)\n```\n:::\n\n\n## Text processing\n\nThe report can, in principle, be written in any text processing software,\ne.g. Microsoft Word or LibreOffice Write, but I recommend to try Quarto. \nIt needs only a little extra learning, but is an extremely efficient way to combine\ntext and analysis with **R** in one document and write it directly in\nRStudio. A comprehensive documentation can be found on\n[https://quarto.org/](https://quarto.org/).\n\n\n## Questions and literature research\n\nPlease post questions, comments and ideas to the chat group. \nAs the exercise is a toy example, it may be difficult to find relevant citeable \nliterature. However, we don't limit creativity.\n\n**References**\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}